<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://www.instancio.org/user-guide/">
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.12">
    
    
      
        <title>User Guide - Instancio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.27ad92d8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MYZQVSS3LL"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MYZQVSS3LL');
</script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
<meta name="description" content="Instancio is a library for instantiating and populating objects with random data. Its goal is to reduce the time and lines of code spent on manual data setup in unit tests.">

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Instancio" class="md-header__button md-logo" aria-label="Instancio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Instancio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/instancio/instancio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    instancio
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../getting-started/" class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      User Guide
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../building/" class="md-tabs__link">
      Building
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Instancio" class="md-nav__button md-logo" aria-label="Instancio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Instancio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/instancio/instancio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    instancio
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        User Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-goals" class="md-nav__link">
    Project Goals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instancio-api" class="md-nav__link">
    Instancio API
  </a>
  
    <nav class="md-nav" aria-label="Instancio API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-objects" class="md-nav__link">
    Creating Objects
  </a>
  
    <nav class="md-nav" aria-label="Creating Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-stream-of-objects" class="md-nav__link">
    Creating a Stream of Objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selectors" class="md-nav__link">
    Selectors
  </a>
  
    <nav class="md-nav" aria-label="Selectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selector-precedence" class="md-nav__link">
    Selector Precedence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selector-scopes" class="md-nav__link">
    Selector Scopes
  </a>
  
    <nav class="md-nav" aria-label="Selector Scopes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#person-class-structure" class="md-nav__link">
    Person class structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selector-strictness" class="md-nav__link">
    Selector Strictness
  </a>
  
    <nav class="md-nav" aria-label="Selector Strictness">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strict-mode" class="md-nav__link">
    Strict Mode
  </a>
  
    <nav class="md-nav" aria-label="Strict Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eliminate-errors-in-data-setup" class="md-nav__link">
    Eliminate errors in data setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplify-fixing-tests-after-refactoring" class="md-nav__link">
    Simplify fixing tests after refactoring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-test-code-clean-and-maintainable" class="md-nav__link">
    Keep test code clean and maintainable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lenient-mode" class="md-nav__link">
    Lenient Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customising-objects" class="md-nav__link">
    Customising Objects
  </a>
  
    <nav class="md-nav" aria-label="Customising Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-generate" class="md-nav__link">
    Using generate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-set" class="md-nav__link">
    Using set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-supply" class="md-nav__link">
    Using supply()
  </a>
  
    <nav class="md-nav" aria-label="Using supply()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-supply-to-provide-non-random-values" class="md-nav__link">
    Using supply() to provide non-random values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-supply-to-provide-random-values" class="md-nav__link">
    Using supply() to provide random values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supply-anti-pattern" class="md-nav__link">
    supply() anti-pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-oncomplete" class="md-nav__link">
    Using onComplete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ignoring-fields-or-classes" class="md-nav__link">
    Ignoring Fields or Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullable-values" class="md-nav__link">
    Nullable Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtype-mapping" class="md-nav__link">
    Subtype Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-models" class="md-nav__link">
    Using Models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seed" class="md-nav__link">
    Seed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metamodel" class="md-nav__link">
    Metamodel
  </a>
  
    <nav class="md-nav" aria-label="Metamodel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-annotation-processor" class="md-nav__link">
    Configuring the Annotation Processor
  </a>
  
    <nav class="md-nav" aria-label="Configuring the Annotation Processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    Maven
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    Gradle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-metamodels" class="md-nav__link">
    Generating Metamodels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overriding-settings-programmatically" class="md-nav__link">
    Overriding Settings Programmatically
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-settings-using-a-properties-file" class="md-nav__link">
    Overriding Settings Using a Properties File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-precedence" class="md-nav__link">
    Settings Precedence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listing-of-all-supported-property-keys" class="md-nav__link">
    Listing of all Supported Property Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#junit-integration" class="md-nav__link">
    JUnit Integration
  </a>
  
    <nav class="md-nav" aria-label="JUnit Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reproducing-failed-tests" class="md-nav__link">
    Reproducing Failed Tests
  </a>
  
    <nav class="md-nav" aria-label="Reproducing Failed Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seed-lifecycle-in-a-junit-test" class="md-nav__link">
    Seed Lifecycle in a JUnit Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-failure-reporting" class="md-nav__link">
    Test Failure Reporting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-injection" class="md-nav__link">
    Settings Injection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-source" class="md-nav__link">
    Arguments Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../building/" class="md-nav__link">
        Building
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>Instancio is a Java library for generating test objects.
Its main goal is to reduce manual data setup in unit tests.
Its API was designed to be as non-intrusive and as concise as possible, while providing enough flexibility to customise generated objects.
Instancio requires no changes to production code, and it can be used out-of-the-box with zero configuration.</p>
<h3 id="project-goals">Project Goals<a class="headerlink" href="#project-goals" title="Permanent link">&para;</a></h3>
<p>There are several existing libraries for generating realistic test data, such as addresses, first and last names, and so on.
While Instancio also supports this use case, this is not its goal.
The idea behind the project is that most unit tests do not care about the actual values.
They just require the <em>presence of a value</em>.
Therefore, the main goal of Instancio is simply to generate fully populated objects with random data, including arrays, collections, nested collections, generic types, and so on.
And it aims to do so with as little code as possible in order to keep the tests concise.</p>
<p>Another goal of Instancio is to make the tests more dynamic.
Since each test run is against random values, the tests become alive.
They cover a wider range of inputs, which might help uncover bugs that may have gone unnoticed with static data.</p>
<p>Finally, Instancio aims to provide reproducible data.
It uses a consistent seed value for each object graph it generates.
Therefore, if a test fails against a given set of inputs, Instancio supports re-generating the same data set in order to reproduce the failed test.</p>
<h1 id="instancio-api">Instancio API<a class="headerlink" href="#instancio-api" title="Permanent link">&para;</a></h1>
<p>This section provides an overview of the API for creating and customising objects.</p>
<h2 id="creating-objects">Creating Objects<a class="headerlink" href="#creating-objects" title="Permanent link">&para;</a></h2>
<p>The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Instancio.html" target="_blank">Instancio</a> class is the entry point to the API.
It provides the following shorthand methods for creating objects.
These can be used when defaults suffice and generated values do not need to be customised.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Shorthand methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">klass</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The following builder methods allow chaining additional method calls in order to customise generated values, ignore certain fields, provide custom settings, and so on.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Builder API</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">klass</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">model</span><span class="p">).</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The three arguments accepted by these methods can be used for different purposes.</p>
<div class="admonition attention">
<p><lnum>1</lnum> Creates an instance by specifying a class; this method should suffice in most cases.<br/>
<lnum>2</lnum> This method is for creating instances of generic types by supplying a type token.<br/>
<lnum>3</lnum> Creates an instance using an Instancio <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Model.html" target="_blank">Model</a>, which acts as a template for creating objects (see <a href="#using-models">Using Models</a>).</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of create() methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// Create by specifying the class</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1">// Using type tokens</span><span class="w"></span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{});</span><span class="w"></span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{});</span><span class="w"></span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="c1">// Create from a model</span><span class="w"></span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="n">Person</span><span class="w"> </span><span class="n">personWithoutAgeAndAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">personModel</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;address&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>It should be noted that generic types can also be created using the <code>Instancio.of(Class)</code> method and specifying the type parameters manually:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Pair</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withTypeParameters</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>However, this approach has a couple of drawbacks: it does not supported nested generics, and its usage will generate an "unchecked assignment" warning.</p>
<h3 id="creating-a-stream-of-objects">Creating a Stream of Objects<a class="headerlink" href="#creating-a-stream-of-objects" title="Permanent link">&para;</a></h3>
<p>Instancio also provides methods for creating a <code>Stream</code> of objects.
The <code>stream()</code> methods return an infinite stream of distinct fully-populated instances.
Similarly to the <code>create()</code> methods, these have a shorthand form if no customisations are needed:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Shorthand methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">klass</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>as well as the builder API that allows customising generated values:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Stream Builder API</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">klass</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The following are a couple of examples of using streams. Note the calls to <code>limit()</code>,
which are required to avoid an infinite loop.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of stream() methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span>
<span class="normal"><a href="#__codelineno-6-8">8</a></span>
<span class="normal"><a href="#__codelineno-6-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">limit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">Map</span><span class="o">&lt;</span><span class="n">UUID</span><span class="p">,</span><span class="w"> </span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{})</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">field</span><span class="p">(</span><span class="s">&quot;address&quot;</span><span class="p">)))</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">    </span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">limit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toMap</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getUuid</span><span class="p">,</span><span class="w"> </span><span class="n">Function</span><span class="p">.</span><span class="na">identity</span><span class="p">()));</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Since returned streams are infinite, <code>limit()</code> <em>must</em> be called to avoid an infinite loop.</p>
</div>
<h2 id="selectors">Selectors<a class="headerlink" href="#selectors" title="Permanent link">&para;</a></h2>
<p>Selectors are used to target fields and classes, for example in order to customise generated values.
Selectors are provided by the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Select.html" target="_blank">Select</a> class which contains the following methods:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Static methods for targeting fields and classes</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">declaringClass</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">GroupableSelector</span><span class="p">...</span><span class="w"> </span><span class="n">selectors</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="n">Select</span><span class="p">.</span><span class="na">allStrings</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="n">Select</span><span class="p">.</span><span class="na">allInts</span><span class="p">()</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Selects the specified field of the class being created<br/>
<lnum>2</lnum> Selects the specified field of the given class<br/>
<lnum>3</lnum> Selects all fields of the given type<br/>
<lnum>4</lnum> Convenience method for combining multiple selectors<br/>
<lnum>5</lnum> Convenience method equivalent to <code>all(String.class)</code><br/>
<lnum>6</lnum> Convenience method equivalent to <code>all(all(int.class), all(Integer.class))</code></p>
</div>
<div class="admonition info">
<p class="admonition-title">The <code>allXxx()</code> methods such as <code>allInts()</code>, are available for all core types.</p>
</div>
<p>The above methods return either an instance of <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Selector.html" target="_blank">Selector</a> or <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/SelectorGroup.html" target="_blank">SelectorGroup</a> type. The latter is a container combining multiple <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Selector.html" target="_blank">Selector</a>s.
For example, to ignore certain values, we can specify them individually as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of using selectors</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;street&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>or alternatively, we can combine the selectors into a single group:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of using a selector group</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">            </span><span class="n">field</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">            </span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;street&quot;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">            </span><span class="n">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)))</span><span class="w"></span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h3 id="selector-precedence">Selector Precedence<a class="headerlink" href="#selector-precedence" title="Permanent link">&para;</a></h3>
<p>Field selectors have higher precedence than class selectors. Consider the following example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Selector precedence example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>This will produce a person object with all strings set to "foo". However, since field selectors
have higher precedence, person's name will be set to "bar".</p>
<h3 id="selector-scopes">Selector Scopes<a class="headerlink" href="#selector-scopes" title="Permanent link">&para;</a></h3>
<p>Selectors also offer the <code>within(Scope... scopes)</code> method for fine-tuning which targets they should be applied to.
The method accepts one or more <code>Scope</code> objects that can be creating using the static methods in the <code>Select</code> class.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Static methods for specifying selector scopes</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Scope a selector to the specified field of the target class<br/>
<lnum>2</lnum> Scope a selector to the specified class<br/></p>
</div>
<p>To illustrate how scopes work we will assume the following structure for the <code>Person</code> class.</p>
<h4 id="person-class-structure">Person class structure<a class="headerlink" href="#person-class-structure" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample POJOs with getters and setters omitted</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">home</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">work</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="kd">class</span> <span class="nc">Address</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">street</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span><span class="w"> </span><span class="n">phoneNumbers</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="kd">class</span> <span class="nc">Phone</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">areaCode</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>To start off, without using scopes we can set all strings to the same value.
For example, the following snippet will set each string field of each class to "foo".</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Set all strings to &quot;Foo&quot;</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Using <code>within()</code> we can narrow down the scope of the <code>allStrings()</code> selector. For brevity,
the <code>Instancio.of(Person.class)</code> line will be omitted.</p>
<div class="highlight"><span class="filename">Set all strings in all Address instances; this includes Phone instances as they are contained within addresses</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Set all strings contained within lists (matches all Phone instances in our example)</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Set all strings in Person.home address object</span><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;home&quot;</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Set Address.city of the Person.home field</span><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;city&quot;</span><span class="p">).</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;home&quot;</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>Using <code>within()</code> also allows specifying multiple scopes. Scopes must be specified top-down, starting from the outermost to the innermost.</p>
<div class="highlight"><span class="filename">Set all strings of all Phone instances contained within Person.work address field</span><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">scope</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The <code>Person.work</code> address object contains a list of phones, therefore <code>Person.work</code> is the outermost scope and is specified first.
<code>Phone</code> class is the innermost scope and is specified last.</p>
<h3 id="selector-strictness">Selector Strictness<a class="headerlink" href="#selector-strictness" title="Permanent link">&para;</a></h3>
<h4 id="strict-mode">Strict Mode<a class="headerlink" href="#strict-mode" title="Permanent link">&para;</a></h4>
<p>Instancio supports two modes: strict and lenient, an idea inspired by Mockito's highly useful strict stubbing feature.</p>
<p>In strict mode unused selectors will trigger an error. In lenient mode unused selectors are simply ignored.</p>
<p>By default, Instancio runs in strict mode. This is done for the following reasons:</p>
<ul>
<li>to eliminate errors in data setup</li>
<li>to simplify fixing tests after refactoring</li>
<li>to keep test code clean and maintainable</li>
</ul>
<h5 id="eliminate-errors-in-data-setup">Eliminate errors in data setup<a class="headerlink" href="#eliminate-errors-in-data-setup" title="Permanent link">&para;</a></h5>
<p>An unused selector could indicate an error in the data setup.
As an example, consider populating the following POJO:</p>
<div class="highlight"><span class="filename">Sample POJO with getters and setters omitted</span><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">class</span> <span class="nc">SamplePojo</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>If we want to create the POJO with a set of size 10, it might be tempting to do the following:</p>
<div class="highlight"><span class="filename"><i>BAD:</i> populating SamplePOJO</span><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">size</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="w"></span>
</span><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<p>This, however, will not work. The field is declared as a <code>SortedSet</code>, but the selector is for <code>Set</code>.
For the selector to match, the target class must be the same as the field's:</p>
<div class="highlight"><span class="filename"><i>GOOD:</i> populating SamplePOJO</span><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">SortedSet</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">size</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="w"></span>
</span><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<p>Without being aware of this detail, it is easy to make this kind of error and face unexpected results
even with a simple class like above. It gets trickier when generating more complex classes.
Strict mode helps reduce this type of error.</p>
<p>Consider another example where the problem may not be immediately obvious:</p>
<div class="highlight"><span class="filename">Generate phone numbers</span><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;number&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">text</span><span class="p">().</span><span class="na">pattern</span><span class="p">(</span><span class="s">&quot;#d#d#d-#d#d-#d#d&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<p>Since <code>List&lt;Phone&gt;</code> is contained within the <code>Address</code> class, the <code>generate()</code> method is redundant
(see <a href="#person-class-structure"><code>Person</code> class structure</a> outlined at the beginning of this section).
All addresses will be null, therefore no phone instances will be created.
Strict mode will trigger an error highlighting this problem.</p>
<h5 id="simplify-fixing-tests-after-refactoring">Simplify fixing tests after refactoring<a class="headerlink" href="#simplify-fixing-tests-after-refactoring" title="Permanent link">&para;</a></h5>
<p>Somewhat related to the above is refactoring. Refactoring always causes test failures to some degree.
Classes get reorganised and tests need to be updated to reflect those changes. Assuming there are existing
tests utilising Instancio, running tests in strict mode will quickly highlight any problems in
data setup caused by refactoring.</p>
<h5 id="keep-test-code-clean-and-maintainable">Keep test code clean and maintainable<a class="headerlink" href="#keep-test-code-clean-and-maintainable" title="Permanent link">&para;</a></h5>
<p>Last but not least, it is important to keep tests clean and maintainable. Test code should be treated
with as much care as production code. Keeping the tests concise makes them easier to maintain.</p>
<h4 id="lenient-mode">Lenient Mode<a class="headerlink" href="#lenient-mode" title="Permanent link">&para;</a></h4>
<p>While strict mode is highly recommended, there is an option to switch to lenient mode.
The lenient mode can be enabled using the <code>lenient()</code> method:</p>
<div class="highlight"><span class="filename">Setting lenient mode using builder API</span><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="p">.</span><span class="na">lenient</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="c1">// snip...</span><span class="w"></span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="n">Lenient</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="err">`</span><span class="n">Settings</span><span class="err">`</span><span class="p">.</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">fact</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">lenient</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shorthand</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="err">```</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s">&quot;Setting lenient mode using Settings&quot;</span><span class="w"></span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">MODE</span><span class="p">,</span><span class="w"> </span><span class="n">Mode</span><span class="p">.</span><span class="na">LENIENT</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">    </span><span class="c1">// snip...</span><span class="w"></span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<p>Lenient mode can also be enabled globally using <a href="#overriding-settings-using-a-properties-file"><code>instancio.properties</code></a>:</p>
<div class="highlight"><span class="filename">Setting lenient mode using properties file</span><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">mode</span><span class="o">=</span><span class="n">LENIENT</span><span class="w"></span>
</code></pre></div>
<h2 id="customising-objects">Customising Objects<a class="headerlink" href="#customising-objects" title="Permanent link">&para;</a></h2>
<p>Properties of an object created by Instancio can be customised using</p>
<ul>
<li><code>generate()</code></li>
<li><code>set()</code></li>
<li><code>supply()</code></li>
</ul>
<p>methods defined in the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html" target="_blank">InstancioApi</a> class.</p>
<h3 id="using-generate">Using <code>generate()</code><a class="headerlink" href="#using-generate" title="Permanent link">&para;</a></h3>
<p>The <code>generate()</code> method provides access to built-in generators for core types from the JDK, such strings, numeric types, dates, arrays, collections, and so on.
It allows modifying generation parameters for these types in order to fine-tune the data.
The usage is shown in the following example, where the <code>gen</code> parameter (of type <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Generators.html" target="_blank">Generators</a>) exposes the available generators to simplify their discovery using IDE auto-completion.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example of using generate()</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">ints</span><span class="p">().</span><span class="na">range</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">array</span><span class="p">().</span><span class="na">length</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;number&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">text</span><span class="p">().</span><span class="na">pattern</span><span class="p">(</span><span class="s">&quot;#d#d#d-#d#d-#d#d&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Each generator provides methods applicable to the type it generates, for example:</p>
<ul>
<li><code>gen.string().minLength(3).allowEmpty()</code></li>
<li><code>gen.collection().size(5).nullableElements()</code></li>
<li><code>gen.temporal().localDate().future()</code></li>
<li><code>gen.longs().min(Long.MIN_VALUE)</code></li>
</ul>
<p>Below is another example of customising a <code>Person</code>.
For instance, if the  <code>Person</code> class has a field <code>List&lt;Phone&gt;</code>, by default Instancio would use <code>ArrayList</code> as the implementation.
Using the collection generator, this can be overridden by specifying the type explicitly:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: customising a collection</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">    </span><span class="c1">// Use LinkedList as List implementation</span><span class="w"></span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;phoneNumbers&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">minSize</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="na">subtype</span><span class="p">(</span><span class="n">LinkedList</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="w">    </span><span class="c1">// Use random country codes from given choices</span><span class="w"></span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;+33&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+39&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+44&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+49&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h3 id="using-set">Using <code>set()</code><a class="headerlink" href="#using-set" title="Permanent link">&para;</a></h3>
<p>The <code>set()</code> method is self-explanatory.
It can be used to set a static value to selected fields or classes, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example of using set()</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;+1&quot;</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"></span>
</span><a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Set <code>countryCode</code> to "+1" on <em>all</em> generated instances of <code>Phone</code> class.<br/>
<lnum>3</lnum> Set all <code>LocalDateTime</code> values to <code>now</code>.</p>
</div>
<h3 id="using-supply">Using <code>supply()</code><a class="headerlink" href="#using-supply" title="Permanent link">&para;</a></h3>
<p>The <code>supply()</code> method has two variants:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="n">supply</span><span class="p">(</span><span class="n">SelectorGroup</span><span class="w"> </span><span class="n">selectors</span><span class="p">,</span><span class="w"> </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">supply</span><span class="p">(</span><span class="n">SelectorGroup</span><span class="w"> </span><span class="n">selectors</span><span class="p">,</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generator</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> For supplying <em>non-random</em> values using a <code>java.util.function.Supplier</code>.<br/>
<lnum>2</lnum> For supplying <em>random</em> values using custom <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Generator.html" target="_blank">Generator</a> implementations.</p>
</div>
<h4 id="using-supply-to-provide-non-random-values">Using supply() to provide <em>non-random</em> values<a class="headerlink" href="#using-supply-to-provide-non-random-values" title="Permanent link">&para;</a></h4>
<p>The first variant can be used where random values are not appropriate and the generated object needs to have a meaningful state.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;+1&quot;</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"></span>
</span><a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Set <code>countryCode</code> to "+1" for all instances of <code>Phone</code>.<br/>
<lnum>3</lnum> All <code>LocalDateTime</code> instances will be distinct objects with the value <code>now()</code>.</p>
</div>
<p>There is some overlap between the <code>set()</code> and <code>supply()</code> methods.
For instance, the following two lines will produce identical results:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;+1&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="n">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;+1&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>In fact, <code>set()</code> is just a convenience method to avoid using <code>supply()</code> when the value is constant.
However, the <code>supply()</code> method can be used to provide a new instance each time it is called.
For example, the following methods are <em>not</em> identical:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="n">set</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="n">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDatime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>If the <code>Person</code> class has multiple <code>LocalDateTime</code> fields, using <code>set()</code> will set them all to the same instance, while using <code>supply()</code> will set them all to distinct instances.
This difference is even more important if supplying a <code>Collection</code>, since sharing a collection instance among multiple objects is usually not desired.</p>
<h4 id="using-supply-to-provide-random-values">Using supply() to provide <em>random</em> values<a class="headerlink" href="#using-supply-to-provide-random-values" title="Permanent link">&para;</a></h4>
<p>The second variant of the <code>supply()</code> method can be used to generate random objects.
This method takes a <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Generator.html" target="_blank">Generator</a> as an argument, which is a functional interface with the following signature:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.instancio.Random</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="kd">interface</span> <span class="nc">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Using the provided <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Random.html" target="_blank">Random</a> instance ensures that Instancio will be able to reproduce the generated object when needed.
The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Random.html" target="_blank">Random</a> implementation uses a <code>java.util.Random</code> internally, but offers a more user-friendly interface and convenience methods not available in the JDK class.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Creating a custom Generator</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.instancio.Random</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="kd">class</span> <span class="nc">PhoneGenerator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Phone</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">        </span><span class="n">Phone</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Phone</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">        </span><span class="n">phone</span><span class="p">.</span><span class="na">setCountryCode</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;+1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+52&quot;</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">        </span><span class="n">phone</span><span class="p">.</span><span class="na">setNumber</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="na">digits</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">        </span><span class="k">return</span><span class="w">  </span><span class="n">phone</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The custom <code>PhoneGenerator</code> can now be passed into the <code>supply()</code> method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PhoneGenerator</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition info">
<p class="admonition-title">Instancio also offers a Service Provider Interface, <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/spi/GeneratorProvider.html" target="_blank">GeneratorProvider</a> that can be used to register custom generators.</p>
<p>This removes the need for manually passing custom generators to the <code>supply</code> method as in the above example.
They will be picked up automatically.</p>
</div>
<h4 id="supply-anti-pattern"><code>supply()</code> anti-pattern<a class="headerlink" href="#supply-anti-pattern" title="Permanent link">&para;</a></h4>
<p>Since the <code>supply()</code> method provides an instance of <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Random.html" target="_blank">Random</a>, the method can also be used for customising values of core type, such as strings and numbers.
However, the <code>generate()</code> method should be preferred in such cases if possible as it provides a better abstraction and would result in more readable code.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">generate() vs supply()</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="hll"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="na">intRange</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">);</span><span class="w"></span>
</span><a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="hll"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="na">alphaNumeric</span><span class="p">(</span><span class="n">length</span><span class="p">);</span><span class="w"></span>
</span><a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">string</span><span class="p">().</span><span class="na">alphaNumeric</span><span class="p">().</span><span class="na">length</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span><span class="w"></span>
</span><a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>3-4</lnum> Not recommended: using <code>random</code> to generate a <code>String</code>.<br/>
<lnum>9</lnum> Better approach: using the built-in string generator.</p>
</div>
<h3 id="using-oncomplete">Using <code>onComplete()</code><a class="headerlink" href="#using-oncomplete" title="Permanent link">&para;</a></h3>
<p>Generated objects can also be customised using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/OnCompleteCallback.html" target="_blank">OnCompleteCallback</a>, a functional interface with the following signature:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="kd">interface</span> <span class="nc">OnCompleteCallback</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">onComplete</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">object</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>While the <a href="#using-supply"><code>supply()</code></a> and <a href="#using-generate"><code>generate()</code></a> methods allow specifying values during object construction, the <code>OnCompleteCallback</code> is used to modify the generated object <em>after</em> it has been fully populated.</p>
<p>The following example shows how the <code>Address</code> can be modified using a callback.
If the <code>Person</code> has a <code>List&lt;Address&gt;</code>, the callback will be invoked for every instance of the <code>Address</code> class that was generated.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: modifying an object via a callback</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span>
<span class="normal"><a href="#__codelineno-37-6">6</a></span>
<span class="normal"><a href="#__codelineno-37-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="p">.</span><span class="na">onComplete</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setCity</span><span class="p">(</span><span class="s">&quot;Vancouver&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setProvince</span><span class="p">(</span><span class="s">&quot;BC&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setCountry</span><span class="p">(</span><span class="s">&quot;Canada&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The advantage of callbacks is that they can be used to update multiple fields at once.
The disadvantage, however, is that they can only be used to update mutable types.</p>
<p>It should also be noted that callbacks are only invoked on non-null values.
In the following example, all address instances are nullable.
Therefore, a generated address instance may either be <code>null</code> or a fully-populated object.
However, if a <code>null</code> was generated, the callback will not invoked.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Callbacks only called on non-null values</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span>
<span class="normal"><a href="#__codelineno-38-4">4</a></span>
<span class="normal"><a href="#__codelineno-38-5">5</a></span>
<span class="normal"><a href="#__codelineno-38-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="w">    </span><span class="p">.</span><span class="na">onComplete</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="w">        </span><span class="c1">// only-called if generated address is not null</span><span class="w"></span>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h3 id="ignoring-fields-or-classes">Ignoring Fields or Classes<a class="headerlink" href="#ignoring-fields-or-classes" title="Permanent link">&para;</a></h3>
<p>By default, Instancio will attempt to populate every non-static field value.
The <code>ignore</code> method can be used where this is not desirable:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: ignoring certain fields and classes</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span>
<span class="normal"><a href="#__codelineno-39-7">7</a></span>
<span class="normal"><a href="#__codelineno-39-8">8</a></span>
<span class="normal"><a href="#__codelineno-39-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="c1">// Or combining the selectors</span><span class="w"></span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">)))</span><span class="w"></span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The <code>ignore()</code> method has higher precedence than other methods. For example, in the following snippet
specifying <code>ignore(all(LocalDateTime.class))</code> but supplying a value for the <code>lastModified</code> field
will actually generate a <code>lastModified</code> with a <code>null</code> value.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ignore() has higher precedence than other methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span>
<span class="normal"><a href="#__codelineno-40-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;lastModified&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h3 id="nullable-values">Nullable Values<a class="headerlink" href="#nullable-values" title="Permanent link">&para;</a></h3>
<p>By default, Instancio generates non-null values for all fields.
There are cases where this behaviour may need to be relaxed, for example to verify that a piece of code does not fail in the presence of certain <code>null</code> values.
There are a few way to specify that values can be nullable.
This can be done using:</p>
<ul>
<li><code>withNullable</code> method of the builder API</li>
<li>generator methods (if a generator supports it)</li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a></li>
</ul>
<p>To specify that something is nullable using the builder API can be done as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using the builder API</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span>
<span class="normal"><a href="#__codelineno-41-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;address&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">allStrings</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Some built-in generators also support marking values as nullable.
In addition, Collection, Map, and Array generators allow specifying whether elements, keys or values are nullable.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using the collection generator</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span>
<span class="normal"><a href="#__codelineno-42-4">4</a></span>
<span class="normal"><a href="#__codelineno-42-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;phoneNumbers&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">nullable</span><span class="p">()</span><span class="w"></span>
</span><a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">nullableElements</span><span class="p">())</span><span class="w"></span>
</span><a id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>3</lnum> The collection itself is nullable.<br/>
<lnum>4</lnum> Collection elements are nullable.</p>
</div>
<p>Assuming the <code>Person</code> class contains a <code>Map</code>, nullability can be specified for keys and values:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using the map generator</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">map</span><span class="p">().</span><span class="na">nullableKeys</span><span class="p">().</span><span class="na">nullableValues</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Lastly, nullability can be specified using <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a>, but only for core types, such as strings and numbers:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using Settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span>
<span class="normal"><a href="#__codelineno-44-6">6</a></span>
<span class="normal"><a href="#__codelineno-44-7">7</a></span>
<span class="normal"><a href="#__codelineno-44-8">8</a></span>
<span class="normal"><a href="#__codelineno-44-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">STRING_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">INTEGER_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_ELEMENTS_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-44-9" name="__codelineno-44-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h2 id="subtype-mapping">Subtype Mapping<a class="headerlink" href="#subtype-mapping" title="Permanent link">&para;</a></h2>
<p>Subtype mapping allows mapping a particular type to its subtype.
This can be useful for specifying a specific implementation for an abstract type.
The mapping can be specified using the <code>subtype</code> method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="n">subtype</span><span class="p">(</span><span class="n">SelectorGroup</span><span class="w"> </span><span class="n">selectors</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">subtype</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>All the types represented by the selectors must be supertypes of the given <code>subtype</code> parameter.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: subtype mapping</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Pet</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Collection</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="n">TreeSet</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;address&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">AddressImpl</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> If <code>Pet</code> is an abstract type, then without the mapping all <code>Pet</code> instances will be <code>null</code>
 since Instancio would not be able to resolve the implementation class.<br/>
<lnum>3</lnum> Multiple types can be mapped as long as the subtype is valid for all of them.<br/>
<lnum>4</lnum> Assuming <code>Person</code> has an <code>Address</code> field, where <code>Address</code> is the superclass of <code>AddressImpl</code>.</p>
</div>
<h2 id="using-models">Using Models<a class="headerlink" href="#using-models" title="Permanent link">&para;</a></h2>
<p>A <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Model.html" target="_blank">Model</a> is a template for creating objects which encapsulates all the generation parameters specified using the builder API.
For example, the following model of the Simpson's household can be used to create individual Simpson characters.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: using a model as a template for creating objects</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span>
<span class="normal"><a href="#__codelineno-47-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">simpsonsModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">        </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;address&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Address</span><span class="p">(</span><span class="s">&quot;742 Evergreen Terrace&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Springfield&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;US&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">        </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="w">                     </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">CAT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Snowball&quot;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">                     </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">DOG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Santa&#39;s Little Helper&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a><span class="w">        </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="n">Person</span><span class="w"> </span><span class="n">homer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Homer&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="n">Person</span><span class="w"> </span><span class="n">marge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Marge&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-14" name="__codelineno-47-14"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The <code>Model</code> class does not expose any public methods, and its instances are effectively immutable.
However, a model can be used as template for creating other models.
The next example creates a new model that includes a new <code>Pet</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: using a model as a template for creating other models</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span>
<span class="normal"><a href="#__codelineno-48-2">2</a></span>
<span class="normal"><a href="#__codelineno-48-3">3</a></span>
<span class="normal"><a href="#__codelineno-48-4">4</a></span>
<span class="normal"><a href="#__codelineno-48-5">5</a></span>
<span class="normal"><a href="#__codelineno-48-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">modelWithNewPet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-48-2" name="__codelineno-48-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">PIG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Plopper&quot;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">CAT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Snowball&quot;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-48-5" name="__codelineno-48-5"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">DOG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Santa&#39;s Little Helper&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-48-6" name="__codelineno-48-6"></a><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h2 id="seed">Seed<a class="headerlink" href="#seed" title="Permanent link">&para;</a></h2>
<p>Before creating an object, Instancio initialises a random seed value.
This seed value is used internally by the pseudorandom number generator, that is, <code>java.util.Random</code>.
Instancio ensures that the same instance of the random number generator is used throughout object creation, from start to finish.
This constraint means that Instancio can reproduce the same object again by using the same seed value.
This feature allows reproducing failed tests (see the section on <a href="#reproducing-failed-tests">reproducing tests with JUnit</a>).</p>
<p>In addition, Instancio takes care in generating values for classes like <code>UUID</code> and <code>LocalDateTime</code>, where a minor difference in values can cause an object equality check to fail.
These classes are generated in such a way, that for a given seed value, the generated values will be the same.
To illustrate with an example, we will use the following <code>SamplePojo</code> class.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample POJO</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-49-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-49-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-49-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-49-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-49-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-49-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-49-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-49-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-49-10">10</a></span>
<span class="normal"><a href="#__codelineno-49-11">11</a></span>
<span class="normal"><a href="#__codelineno-49-12">12</a></span>
<span class="normal"><a href="#__codelineno-49-13">13</a></span>
<span class="normal"><a href="#__codelineno-49-14">14</a></span>
<span class="normal"><a href="#__codelineno-49-15">15</a></span>
<span class="normal"><a href="#__codelineno-49-16">16</a></span>
<span class="normal"><a href="#__codelineno-49-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="kd">class</span> <span class="nc">SamplePojo</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">uuid</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-49-8" name="__codelineno-49-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">o</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">SamplePojo</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-49-9" name="__codelineno-49-9"></a><span class="w">        </span><span class="n">SamplePojo</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">)</span><span class="w"> </span><span class="n">o</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-49-10" name="__codelineno-49-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">uuid</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">uuid</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">localDateTime</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-49-11" name="__codelineno-49-11"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-49-12" name="__codelineno-49-12"></a>
<a id="__codelineno-49-13" name="__codelineno-49-13"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-49-14" name="__codelineno-49-14"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">hashCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-49-15" name="__codelineno-49-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Objects</span><span class="p">.</span><span class="na">hash</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-49-16" name="__codelineno-49-16"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-49-17" name="__codelineno-49-17"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>By supplying the same seed value, the same object is generated:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Generating two SamplePojo instances with the same seed</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-50-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-50-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-50-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-50-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-50-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-50-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-50-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-50-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-50-10">10</a></span>
<span class="normal"><a href="#__codelineno-50-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-50-4" name="__codelineno-50-4"></a><span class="w">    </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-50-5" name="__codelineno-50-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-50-6" name="__codelineno-50-6"></a>
<a id="__codelineno-50-7" name="__codelineno-50-7"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-50-8" name="__codelineno-50-8"></a><span class="w">    </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-50-9" name="__codelineno-50-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-50-10" name="__codelineno-50-10"></a>
<a id="__codelineno-50-11" name="__codelineno-50-11"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">pojo1</span><span class="p">).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">pojo2</span><span class="p">);</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>If the objects are printed, both produce the same output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>SamplePojo(
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>  uuid=3bf992ad-1121-36a2-826d-94112bf1d82b,
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>  localDateTime=2069-10-15T10:28:31.940
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>)
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">While the generated values are the same, it is not recommended to write assertions using hard-coded values.</p>
</div>
<h1 id="metamodel">Metamodel<a class="headerlink" href="#metamodel" title="Permanent link">&para;</a></h1>
<p>This section expands on the <a href="#selectors">Selectors</a> section, which described how to target fields.
Instancio uses reflection at field level to populate objects.
The main reason for using fields and not setters is <a hred="https://docs.oracle.com/javase/tutorial/java/generics/erasure.html" target="_blank">type erasure</a>.
It is not possible to determine the generic type of method parameters at runtime.
However, generic type information is available at field level.
In other words:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span>
<span class="normal"><a href="#__codelineno-52-2">2</a></span>
<span class="normal"><a href="#__codelineno-52-3">3</a></span>
<span class="normal"><a href="#__codelineno-52-4">4</a></span>
<span class="normal"><a href="#__codelineno-52-5">5</a></span>
<span class="normal"><a href="#__codelineno-52-6">6</a></span>
<span class="normal"><a href="#__codelineno-52-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="kd">class</span> <span class="nc">Example</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="hll"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">;</span><span class="w"></span>
</span><a id="__codelineno-52-3" name="__codelineno-52-3"></a>
<a id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="hll"><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setList</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><a id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">values</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-6" name="__codelineno-52-6"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-52-7" name="__codelineno-52-7"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> At runtime, this will be a <code>List&lt;String&gt;</code>.<br/>
<lnum>4</lnum> This becomes a <code>List</code>.</p>
</div>
<p>Without knowing the list's generic type, Instancio would not be able to populate the list.
For this reason, it operates at field level.
Using fields, however, has one drawback: they require the use of field names.
To circumvent this problem, Instancio includes an annotation processor that can generate metamodel classes.</p>
<p>The following example shows two selectors for the <code>city</code> field of <code>Address</code>, one referencing the field by name, and the other using the generated metamodel class:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Metamodel example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span>
<span class="normal"><a href="#__codelineno-53-2">2</a></span>
<span class="normal"><a href="#__codelineno-53-3">3</a></span>
<span class="normal"><a href="#__codelineno-53-4">4</a></span>
<span class="normal"><a href="#__codelineno-53-5">5</a></span>
<span class="normal"><a href="#__codelineno-53-6">6</a></span>
<span class="normal"><a href="#__codelineno-53-7">7</a></span>
<span class="normal"><a href="#__codelineno-53-8">8</a></span>
<span class="normal"><a href="#__codelineno-53-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="c1">// Targeting Address &quot;city&quot; field without the metamodel</span><span class="w"></span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;Paris&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;London&quot;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="c1">// Targeting &#39;Address_.city&#39; using the metamodel</span><span class="w"></span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">Address_</span><span class="p">.</span><span class="na">city</span><span class="p">,</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;Paris&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;London&quot;</span><span class="p">))</span><span class="w"></span>
</span><a id="__codelineno-53-9" name="__codelineno-53-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>8</lnum> By default, <code>_</code> is used as the metamodel class suffix, but this can be customised using <code>-Ainstancio.suffix</code> argument.</p>
</div>
<h2 id="configuring-the-annotation-processor">Configuring the Annotation Processor<a class="headerlink" href="#configuring-the-annotation-processor" title="Permanent link">&para;</a></h2>
<h3 id="maven">Maven<a class="headerlink" href="#maven" title="Permanent link">&para;</a></h3>
<p>To configure the annotation processor with Maven, add the <code>&lt;annotationProcessorPaths&gt;</code> element to the build plugins section in your <code>pom.xml</code> as shown below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You still need to have the Instancio library, either <code>instancio-core</code> or <code>instancio-junit</code>, in your <code>&lt;dependencies&gt;</code> (see <a href="../getting-started/">Getting Started</a>).</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Maven</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-54-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-54-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-54-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-54-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-54-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-54-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-54-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-54-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-54-10">10</a></span>
<span class="normal"><a href="#__codelineno-54-11">11</a></span>
<span class="normal"><a href="#__codelineno-54-12">12</a></span>
<span class="normal"><a href="#__codelineno-54-13">13</a></span>
<span class="normal"><a href="#__codelineno-54-14">14</a></span>
<span class="normal"><a href="#__codelineno-54-15">15</a></span>
<span class="normal"><a href="#__codelineno-54-16">16</a></span>
<span class="normal"><a href="#__codelineno-54-17">17</a></span>
<span class="normal"><a href="#__codelineno-54-18">18</a></span>
<span class="normal"><a href="#__codelineno-54-19">19</a></span>
<span class="normal"><a href="#__codelineno-54-20">20</a></span>
<span class="normal"><a href="#__codelineno-54-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="nt">&lt;build&gt;</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a>    <span class="nt">&lt;plugins&gt;</span>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a>        <span class="nt">&lt;plugin&gt;</span>
<a id="__codelineno-54-4" name="__codelineno-54-4"></a>            <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-54-5" name="__codelineno-54-5"></a>            <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-54-6" name="__codelineno-54-6"></a>            <span class="nt">&lt;version&gt;</span>3.8.1<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-54-7" name="__codelineno-54-7"></a>            <span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-54-8" name="__codelineno-54-8"></a>                <span class="nt">&lt;source&gt;</span>${your.java.version}<span class="nt">&lt;/source&gt;</span>
<a id="__codelineno-54-9" name="__codelineno-54-9"></a>                <span class="nt">&lt;target&gt;</span>${your.java.version}<span class="nt">&lt;/target&gt;</span>
<a id="__codelineno-54-10" name="__codelineno-54-10"></a>                <span class="nt">&lt;annotationProcessorPaths&gt;</span>
<a id="__codelineno-54-11" name="__codelineno-54-11"></a>                    <span class="nt">&lt;path&gt;</span>
<a id="__codelineno-54-12" name="__codelineno-54-12"></a>                        <span class="nt">&lt;groupId&gt;</span>org.instancio<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-54-13" name="__codelineno-54-13"></a>                        <span class="nt">&lt;artifactId&gt;</span>instancio-processor<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-54-14" name="__codelineno-54-14"></a>                        <span class="nt">&lt;version&gt;</span>1.4.1<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-54-15" name="__codelineno-54-15"></a>                    <span class="nt">&lt;/path&gt;</span>
<a id="__codelineno-54-16" name="__codelineno-54-16"></a>                    <span class="cm">&lt;!-- include other processors, if any --&gt;</span>
<a id="__codelineno-54-17" name="__codelineno-54-17"></a>                <span class="nt">&lt;/annotationProcessorPaths&gt;</span>
<a id="__codelineno-54-18" name="__codelineno-54-18"></a>            <span class="nt">&lt;/configuration&gt;</span>
<a id="__codelineno-54-19" name="__codelineno-54-19"></a>        <span class="nt">&lt;/plugin&gt;</span>
<a id="__codelineno-54-20" name="__codelineno-54-20"></a>    <span class="nt">&lt;/plugins&gt;</span>
<a id="__codelineno-54-21" name="__codelineno-54-21"></a><span class="nt">&lt;/build&gt;</span>
</code></pre></div></td></tr></table></div>
<h3 id="gradle">Gradle<a class="headerlink" href="#gradle" title="Permanent link">&para;</a></h3>
<p>The following can be used with Gradle version 4.6 or higher, add the following to your <code>build.gradle</code> file:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Gradle</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span>
<span class="normal"><a href="#__codelineno-55-2">2</a></span>
<span class="normal"><a href="#__codelineno-55-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="n">dependencies</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><span class="w">    </span><span class="n">testAnnotationProcessor</span><span class="w"> </span><span class="s2">&quot;org.instancio:instancio-processor:1.4.1&quot;</span><span class="w"></span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="o">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h2 id="generating-metamodels">Generating Metamodels<a class="headerlink" href="#generating-metamodels" title="Permanent link">&para;</a></h2>
<p>With the annotation processor build configuration in place, metamodels can be generated using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioMetamodel.html" target="_blank">@InstancioMetamodel</a> annotation.
The annotation can be placed on any type, including an interface as shown below.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Using @InstancioMetamodel</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span>
<span class="normal"><a href="#__codelineno-56-2">2</a></span>
<span class="normal"><a href="#__codelineno-56-3">3</a></span>
<span class="normal"><a href="#__codelineno-56-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="nd">@InstancioMetamodel</span><span class="p">(</span><span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-56-2" name="__codelineno-56-2"></a><span class="kd">interface</span> <span class="nc">SampleConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-56-3" name="__codelineno-56-3"></a><span class="w">    </span><span class="c1">// can be left blank</span><span class="w"></span>
<a id="__codelineno-56-4" name="__codelineno-56-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">It is not recommended declaring the <code>@InstancioMetamodel</code> annotation with the same <code>classes</code> more than once.</p>
<p>Doing so will result in metamodels being generated more than once as well.
For this reason, it is better to have a dedicated class containing the <code>@InstancioMetamodel</code> annotation.</p>
</div>
<p>Metamodels for classes specified in the annotation will be automatically generated during the build.
Typically metamodels are placed under a generated sources directory, such as <code>generated/sources</code> or <code>generated-sources</code>.
If your IDE does not pick up the generated classes, then adding the generated sources directory to the build path
(or simply reloading the project) should resolve this.</p>
<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h1>
<p>Instancio configuration is encapsulated by the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> class, a map of keys and corresponding values.
The <code>Settings</code> class provides a few static methods for creating settings.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Settings static factory methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1">1</a></span>
<span class="normal"><a href="#__codelineno-57-2">2</a></span>
<span class="normal"><a href="#__codelineno-57-3">3</a></span>
<span class="normal"><a href="#__codelineno-57-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="n">Settings</span><span class="p">.</span><span class="na">defaults</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="n">Settings</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="n">Settings</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">Settings</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Creates a new instance of blank settings.<br/>
<lnum>2</lnum> Creates a new instance of default settings.<br/>
<lnum>3</lnum> Creates settings from a <code>Map</code> or <code>java.util.Properties</code>.<br/>
<lnum>4</lnum> Creates a copy of <code>other</code> settings (a clone operation).</p>
</div>
<p>Settings can be overridden programmatically or through a properties file.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To inspect all the keys and default values, simply: <code>System.out.println(Settings.defaults())</code></p>
</div>
<h2 id="overriding-settings-programmatically">Overriding Settings Programmatically<a class="headerlink" href="#overriding-settings-programmatically" title="Permanent link">&para;</a></h2>
<p>To override programmatically, an instance of <code>Settings</code> can be passed in to the builder API:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Supplying custom settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span>
<span class="normal"><a href="#__codelineno-58-2">2</a></span>
<span class="normal"><a href="#__codelineno-58-3">3</a></span>
<span class="normal"><a href="#__codelineno-58-4">4</a></span>
<span class="normal"><a href="#__codelineno-58-5">5</a></span>
<span class="normal"><a href="#__codelineno-58-6">6</a></span>
<span class="normal"><a href="#__codelineno-58-7">7</a></span>
<span class="normal"><a href="#__codelineno-58-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">STRING_ALLOW_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w"></span>
</span><a id="__codelineno-58-5" name="__codelineno-58-5"></a>
<a id="__codelineno-58-6" name="__codelineno-58-6"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-58-7" name="__codelineno-58-7"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-58-8" name="__codelineno-58-8"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Keys.html" target="_blank">Keys</a> class provides static fields for all the keys supported by Instancio.<br/>
<lnum>4</lnum> The <code>lock()</code> method makes the settings instance immutable. This is an optional method call.
It can be used to prevent modifications if settings are shared across multiple methods or classes.<br/>
<lnum>7</lnum> The passed in settings instance will override default settings.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Range settings auto-adjust</p>
<p>When updating range settings, such as <code>COLLECTION_MIN_SIZE</code> and <code>COLLECTION_MAX_SIZE</code>,
range bound is auto-adjusted if the new minimum is higher than the current maximum, and vice versa.</p>
</div>
<h2 id="overriding-settings-using-a-properties-file">Overriding Settings Using a Properties File<a class="headerlink" href="#overriding-settings-using-a-properties-file" title="Permanent link">&para;</a></h2>
<p>The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Keys.html" target="_blank">Keys</a> class defines a <em>property key</em> for every key object, for example:</p>
<ul>
<li><code>Keys.COLLECTION_MIN_SIZE</code> -&gt; <code>"collection.min.size"</code></li>
<li><code>Keys.STRING_ALLOW_EMPTY</code>  -&gt; <code>"string.allow.empty"</code></li>
</ul>
<p>Using these property keys, configuration values can also be overridden via a properties file.
This can be done by placing <code>instancio.properties</code> at the root of the classpath and using property keys to override values (see the <a href="#listing-of-all-supported-property-keys">sample properties file</a>).</p>
<h2 id="settings-precedence">Settings Precedence<a class="headerlink" href="#settings-precedence" title="Permanent link">&para;</a></h2>
<p>Instancio layers settings on top of each other, each layer overriding the previous ones.
This is done in the following order:</p>
<ol>
<li><code>Settings.defaults()</code></li>
<li>Settings from <code>instancio.properties</code></li>
<li>Settings injected into a JUnit test using <code>@WithSettings</code> annotation (see <a href="#settings-injection">Settings Injection</a>)</li>
<li>Settings supplied to the builder API's <code>withSettings(Settings)</code> method</li>
</ol>
<p>Therefore, settings supplied manually take precedence over everything else.</p>
<h2 id="listing-of-all-supported-property-keys">Listing of all Supported Property Keys<a class="headerlink" href="#listing-of-all-supported-property-keys" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample configuration properties</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-59-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-59-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-59-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-59-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-59-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-59-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-59-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-59-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-59-10">10</a></span>
<span class="normal"><a href="#__codelineno-59-11">11</a></span>
<span class="normal"><a href="#__codelineno-59-12">12</a></span>
<span class="normal"><a href="#__codelineno-59-13">13</a></span>
<span class="normal"><a href="#__codelineno-59-14">14</a></span>
<span class="normal"><a href="#__codelineno-59-15">15</a></span>
<span class="normal"><a href="#__codelineno-59-16">16</a></span>
<span class="normal"><a href="#__codelineno-59-17">17</a></span>
<span class="normal"><a href="#__codelineno-59-18">18</a></span>
<span class="normal"><a href="#__codelineno-59-19">19</a></span>
<span class="normal"><a href="#__codelineno-59-20">20</a></span>
<span class="normal"><a href="#__codelineno-59-21">21</a></span>
<span class="normal"><a href="#__codelineno-59-22">22</a></span>
<span class="normal"><a href="#__codelineno-59-23">23</a></span>
<span class="normal"><a href="#__codelineno-59-24">24</a></span>
<span class="normal"><a href="#__codelineno-59-25">25</a></span>
<span class="normal"><a href="#__codelineno-59-26">26</a></span>
<span class="normal"><a href="#__codelineno-59-27">27</a></span>
<span class="normal"><a href="#__codelineno-59-28">28</a></span>
<span class="normal"><a href="#__codelineno-59-29">29</a></span>
<span class="normal"><a href="#__codelineno-59-30">30</a></span>
<span class="normal"><a href="#__codelineno-59-31">31</a></span>
<span class="normal"><a href="#__codelineno-59-32">32</a></span>
<span class="normal"><a href="#__codelineno-59-33">33</a></span>
<span class="normal"><a href="#__codelineno-59-34">34</a></span>
<span class="normal"><a href="#__codelineno-59-35">35</a></span>
<span class="normal"><a href="#__codelineno-59-36">36</a></span>
<span class="normal"><a href="#__codelineno-59-37">37</a></span>
<span class="normal"><a href="#__codelineno-59-38">38</a></span>
<span class="normal"><a href="#__codelineno-59-39">39</a></span>
<span class="normal"><a href="#__codelineno-59-40">40</a></span>
<span class="normal"><a href="#__codelineno-59-41">41</a></span>
<span class="normal"><a href="#__codelineno-59-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="hll"><span class="n">array</span><span class="p">.</span><span class="na">elements</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
</span><a id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="n">array</span><span class="p">.</span><span class="na">max</span><span class="p">.</span><span class="na">length</span><span class="o">=</span><span class="mi">6</span><span class="w"></span>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="n">array</span><span class="p">.</span><span class="na">min</span><span class="p">.</span><span class="na">length</span><span class="o">=</span><span class="mi">2</span><span class="w"></span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="hll"><span class="n">array</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
</span><a id="__codelineno-59-5" name="__codelineno-59-5"></a><span class="kt">boolean</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-6" name="__codelineno-59-6"></a><span class="kt">byte</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">127</span><span class="w"></span>
<a id="__codelineno-59-7" name="__codelineno-59-7"></a><span class="kt">byte</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-8" name="__codelineno-59-8"></a><span class="kt">byte</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-9" name="__codelineno-59-9"></a><span class="n">character</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-10" name="__codelineno-59-10"></a><span class="hll"><span class="n">collection</span><span class="p">.</span><span class="na">elements</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
</span><a id="__codelineno-59-11" name="__codelineno-59-11"></a><span class="n">collection</span><span class="p">.</span><span class="na">max</span><span class="p">.</span><span class="na">size</span><span class="o">=</span><span class="mi">6</span><span class="w"></span>
<a id="__codelineno-59-12" name="__codelineno-59-12"></a><span class="n">collection</span><span class="p">.</span><span class="na">min</span><span class="p">.</span><span class="na">size</span><span class="o">=</span><span class="mi">2</span><span class="w"></span>
<a id="__codelineno-59-13" name="__codelineno-59-13"></a><span class="n">collection</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-14" name="__codelineno-59-14"></a><span class="kt">double</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">10000</span><span class="w"></span>
<a id="__codelineno-59-15" name="__codelineno-59-15"></a><span class="kt">double</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-16" name="__codelineno-59-16"></a><span class="kt">double</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-17" name="__codelineno-59-17"></a><span class="kt">float</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">10000</span><span class="w"></span>
<a id="__codelineno-59-18" name="__codelineno-59-18"></a><span class="kt">float</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-19" name="__codelineno-59-19"></a><span class="kt">float</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-20" name="__codelineno-59-20"></a><span class="n">integer</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">10000</span><span class="w"></span>
<a id="__codelineno-59-21" name="__codelineno-59-21"></a><span class="n">integer</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-22" name="__codelineno-59-22"></a><span class="n">integer</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-23" name="__codelineno-59-23"></a><span class="kt">long</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">10000</span><span class="w"></span>
<a id="__codelineno-59-24" name="__codelineno-59-24"></a><span class="kt">long</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-25" name="__codelineno-59-25"></a><span class="kt">long</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-26" name="__codelineno-59-26"></a><span class="hll"><span class="n">map</span><span class="p">.</span><span class="na">keys</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
</span><a id="__codelineno-59-27" name="__codelineno-59-27"></a><span class="hll"><span class="n">map</span><span class="p">.</span><span class="na">values</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
</span><a id="__codelineno-59-28" name="__codelineno-59-28"></a><span class="n">map</span><span class="p">.</span><span class="na">max</span><span class="p">.</span><span class="na">size</span><span class="o">=</span><span class="mi">6</span><span class="w"></span>
<a id="__codelineno-59-29" name="__codelineno-59-29"></a><span class="n">map</span><span class="p">.</span><span class="na">min</span><span class="p">.</span><span class="na">size</span><span class="o">=</span><span class="mi">2</span><span class="w"></span>
<a id="__codelineno-59-30" name="__codelineno-59-30"></a><span class="n">map</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-31" name="__codelineno-59-31"></a><span class="hll"><span class="n">mode</span><span class="o">=</span><span class="n">STRICT</span><span class="w"></span>
</span><a id="__codelineno-59-32" name="__codelineno-59-32"></a><span class="kt">short</span><span class="p">.</span><span class="na">max</span><span class="o">=</span><span class="mi">10000</span><span class="w"></span>
<a id="__codelineno-59-33" name="__codelineno-59-33"></a><span class="kt">short</span><span class="p">.</span><span class="na">min</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<a id="__codelineno-59-34" name="__codelineno-59-34"></a><span class="kt">short</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-35" name="__codelineno-59-35"></a><span class="n">string</span><span class="p">.</span><span class="na">allow</span><span class="p">.</span><span class="na">empty</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-36" name="__codelineno-59-36"></a><span class="n">string</span><span class="p">.</span><span class="na">max</span><span class="p">.</span><span class="na">length</span><span class="o">=</span><span class="mi">10</span><span class="w"></span>
<a id="__codelineno-59-37" name="__codelineno-59-37"></a><span class="n">string</span><span class="p">.</span><span class="na">min</span><span class="p">.</span><span class="na">length</span><span class="o">=</span><span class="mi">3</span><span class="w"></span>
<a id="__codelineno-59-38" name="__codelineno-59-38"></a><span class="n">string</span><span class="p">.</span><span class="na">nullable</span><span class="o">=</span><span class="kc">false</span><span class="w"></span>
<a id="__codelineno-59-39" name="__codelineno-59-39"></a><span class="hll"><span class="n">subtype</span><span class="p">.</span><span class="na">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Collection</span><span class="o">=</span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">ArrayList</span><span class="w"></span>
</span><a id="__codelineno-59-40" name="__codelineno-59-40"></a><span class="n">subtype</span><span class="p">.</span><span class="na">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">List</span><span class="o">=</span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">ArrayList</span><span class="w"></span>
<a id="__codelineno-59-41" name="__codelineno-59-41"></a><span class="n">subtype</span><span class="p">.</span><span class="na">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Map</span><span class="o">=</span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">HashMap</span><span class="w"></span>
<a id="__codelineno-59-42" name="__codelineno-59-42"></a><span class="n">subtype</span><span class="p">.</span><span class="na">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">SortedMap</span><span class="o">=</span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">TreeMap</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum>The <code>*.elements.nullable</code>, <code>map.keys.nullable</code>, <code>map.values.nullable</code> specify whether Instancio can generate <code>null</code> values for array/collection elements and map keys and values.<br/>
<lnum>4</lnum> The other <code>*.nullable</code> properties specifies whether Instancio can generate <code>null</code> values for a given type.<br/>
<lnum>31</lnum> Specifies the mode, either <code>STRICT</code> or <code>LENIENT</code>. See <a href="#selector-strictness">Selector Strictness</a><br/>
<lnum>39</lnum> Properties prefixed with <code>subtype</code> are used to specify default implementations for abstract types, or map types to subtypes in general.
This is the same mechanism as <a href="#subtype-mapping">subtype mapping</a>, but configured via properties.</p>
</div>
<h1 id="junit-integration">JUnit Integration<a class="headerlink" href="#junit-integration" title="Permanent link">&para;</a></h1>
<p>Instancio supports JUnit 5 via the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioExtension.html" target="_blank">InstancioExtension</a> and can be used in combination with extensions from other testing frameworks.
The extension adds a few useful features, such as</p>
<ul>
<li>the ability to use <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioSource.html" target="_blank">@InstancioSource</a> with <code>@ParameterizedTest</code> methods,</li>
<li>injection of custom settings using <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/WithSettings.html" target="_blank">@WithSettings</a>,</li>
<li>and most importantly support for reproducing failed tests using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/Seed.html" target="_blank">@Seed</a> annotation.</li>
</ul>
<h2 id="reproducing-failed-tests">Reproducing Failed Tests<a class="headerlink" href="#reproducing-failed-tests" title="Permanent link">&para;</a></h2>
<p>Since using Instancio validates your code against random inputs on each test run, having the ability to reproduce a failed tests with previously generated data becomes a necessity.
Instancio supports this use case by reporting the seed value of a failed test in the failure message using JUnit's <code>publishReportEntry</code> mechanism.</p>
<h3 id="seed-lifecycle-in-a-junit-test">Seed Lifecycle in a JUnit Test<a class="headerlink" href="#seed-lifecycle-in-a-junit-test" title="Permanent link">&para;</a></h3>
<p>Instancio initialises a seed value before each test method.
This seed value is used for creating all objects during the test method's execution, unless another seed is specified explicitly using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withSeed(int)" target="_blank">withSeed(int seed)</a> method.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Seed Lifecycle in a JUnit Test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-60-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-60-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-60-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-60-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-60-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-60-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-60-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-60-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-60-10">10</a></span>
<span class="normal"><a href="#__codelineno-60-11">11</a></span>
<span class="normal"><a href="#__codelineno-60-12">12</a></span>
<span class="normal"><a href="#__codelineno-60-13">13</a></span>
<span class="normal"><a href="#__codelineno-60-14">14</a></span>
<span class="normal"><a href="#__codelineno-60-15">15</a></span>
<span class="normal"><a href="#__codelineno-60-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-60-2" name="__codelineno-60-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-60-3" name="__codelineno-60-3"></a>
<a id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="w">    </span><span class="nd">@Test</span><span class="w"></span>
<a id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="hll"><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">example</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><a id="__codelineno-60-6" name="__codelineno-60-6"></a>
<a id="__codelineno-60-7" name="__codelineno-60-7"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w"></span>
</span><a id="__codelineno-60-8" name="__codelineno-60-8"></a>
<a id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-60-10" name="__codelineno-60-10"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-60-11" name="__codelineno-60-11"></a><span class="w">            </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-60-12" name="__codelineno-60-12"></a>
<a id="__codelineno-60-13" name="__codelineno-60-13"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w"></span>
</span><a id="__codelineno-60-14" name="__codelineno-60-14"></a>
<a id="__codelineno-60-15" name="__codelineno-60-15"></a><span class="hll"><span class="w">    </span><span class="p">}</span><span class="w"></span>
</span><a id="__codelineno-60-16" name="__codelineno-60-16"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>5</lnum> Instancio initialises a random seed value, for example <code>8276</code>.<br/>
<lnum>7</lnum> Uses seed value <code>8276</code>.<br/>
<lnum>10</lnum> Uses the supplied seed value <code>123</code>.<br/>
<lnum>13</lnum> Uses seed value <code>8276</code>.<br/>
<lnum>15</lnum> Seed value <code>8276</code> goes out of scope.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even though <code>person1</code> and <code>person3</code> are created using the same seed value of <code>8276</code>, they are actually distinct objects, each containing different values. This is because the same instance of the random number generator is used througout the test method.</p>
</div>
<h3 id="test-failure-reporting">Test Failure Reporting<a class="headerlink" href="#test-failure-reporting" title="Permanent link">&para;</a></h3>
<p>When a test method fails, Instancio adds a message containing the seed value to the failed test's output.
Using the following failing test as an example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test failure example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-61-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-61-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-61-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-61-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-61-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-61-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-61-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-61-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-61-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="nd">@Test</span><span class="w"></span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">verifyShippingAddress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a>
<a id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="w">    </span><span class="c1">// Some method under test</span><span class="w"></span>
<a id="__codelineno-61-6" name="__codelineno-61-6"></a><span class="w">    </span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shippingService</span><span class="p">.</span><span class="na">getShippingAddress</span><span class="p">(</span><span class="n">person</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-7" name="__codelineno-61-7"></a>
<a id="__codelineno-61-8" name="__codelineno-61-8"></a><span class="w">    </span><span class="c1">// A failing assertion</span><span class="w"></span>
<a id="__codelineno-61-9" name="__codelineno-61-9"></a><span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">address</span><span class="p">).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getAddress</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-61-10" name="__codelineno-61-10"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The failed test output will include the following message:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>Test method &#39;verifyShippingAddress&#39; failed with seed: 8532
</code></pre></div>
<p>The failed test can be reproduced by using the seed reported in the failure message.
This can be done by placing the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/Seed.html" target="_blank">@Seed</a> annotation on the test method:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Reproducing a failed test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span>
<span class="normal"><a href="#__codelineno-63-2">2</a></span>
<span class="normal"><a href="#__codelineno-63-3">3</a></span>
<span class="normal"><a href="#__codelineno-63-4">4</a></span>
<span class="normal"><a href="#__codelineno-63-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="nd">@Test</span><span class="w"></span>
<a id="__codelineno-63-2" name="__codelineno-63-2"></a><span class="hll"><span class="nd">@Seed</span><span class="p">(</span><span class="mi">8532</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-63-3" name="__codelineno-63-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">verifyShippingAddress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-63-4" name="__codelineno-63-4"></a><span class="w">    </span><span class="c1">// snip ... same test code as above</span><span class="w"></span>
<a id="__codelineno-63-5" name="__codelineno-63-5"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Specifying the seed will reproduce previously generated values.</p>
</div>
<p>With the <code>@Seed</code> annotation in place, the data becomes effectively static.
This allows the root cause to be established and fixed.
Once the test is passing, the <code>@Seed</code> annotation can be removed so that new data will be generated on each subsequent test run.</p>
<h2 id="settings-injection">Settings Injection<a class="headerlink" href="#settings-injection" title="Permanent link">&para;</a></h2>
<p>The <code>InstancioExtension</code> also adds support for injecting <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> into a test class.
The injected settings will be used by every test method within the class.
This can be done using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/WithSettings.html" target="_blank">@WithSettings</a> annotation.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Injecting Settings into a test class</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-64-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-64-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-64-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-64-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-64-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-64-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-64-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-64-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-64-10">10</a></span>
<span class="normal"><a href="#__codelineno-64-11">11</a></span>
<span class="normal"><a href="#__codelineno-64-12">12</a></span>
<span class="normal"><a href="#__codelineno-64-13">13</a></span>
<span class="normal"><a href="#__codelineno-64-14">14</a></span>
<span class="normal"><a href="#__codelineno-64-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a>
<a id="__codelineno-64-4" name="__codelineno-64-4"></a><span class="hll"><span class="w">    </span><span class="nd">@WithSettings</span><span class="w"></span>
</span><a id="__codelineno-64-5" name="__codelineno-64-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-64-6" name="__codelineno-64-6"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Setting</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-64-7" name="__codelineno-64-7"></a>
<a id="__codelineno-64-8" name="__codelineno-64-8"></a><span class="w">    </span><span class="nd">@Test</span><span class="w"></span>
<a id="__codelineno-64-9" name="__codelineno-64-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">example</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-64-10" name="__codelineno-64-10"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w"></span>
</span><a id="__codelineno-64-11" name="__codelineno-64-11"></a>
<a id="__codelineno-64-12" name="__codelineno-64-12"></a><span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getPhoneNumbers</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-64-13" name="__codelineno-64-13"></a><span class="w">            </span><span class="p">.</span><span class="na">hasSizeGreaterThanOrEqualTo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-64-14" name="__codelineno-64-14"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-64-15" name="__codelineno-64-15"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>4</lnum> Inject custom settings to be used by every test method within the class.<br/>
<lnum>10</lnum> Every object will be created using the injected settings.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">There can be only one field annotated <code>@WithSettings</code> per test class.</p>
</div>
<p>Instancio also supports overriding the injected settings using the <code>withSettings</code> method as shown below.
The settings provided via the method take precedence over the injected settings (see <a href="#settings-precedence">Settings Precedence</a> for further information).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Overriding injecting Settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-65-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-65-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-65-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-65-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-65-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-65-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-65-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-65-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-65-10">10</a></span>
<span class="normal"><a href="#__codelineno-65-11">11</a></span>
<span class="normal"><a href="#__codelineno-65-12">12</a></span>
<span class="normal"><a href="#__codelineno-65-13">13</a></span>
<span class="normal"><a href="#__codelineno-65-14">14</a></span>
<span class="normal"><a href="#__codelineno-65-15">15</a></span>
<span class="normal"><a href="#__codelineno-65-16">16</a></span>
<span class="normal"><a href="#__codelineno-65-17">17</a></span>
<span class="normal"><a href="#__codelineno-65-18">18</a></span>
<span class="normal"><a href="#__codelineno-65-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-65-2" name="__codelineno-65-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-65-3" name="__codelineno-65-3"></a>
<a id="__codelineno-65-4" name="__codelineno-65-4"></a><span class="w">    </span><span class="nd">@WithSettings</span><span class="w"></span>
<a id="__codelineno-65-5" name="__codelineno-65-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-65-6" name="__codelineno-65-6"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Setting</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-65-7" name="__codelineno-65-7"></a>
<a id="__codelineno-65-8" name="__codelineno-65-8"></a><span class="w">    </span><span class="nd">@Test</span><span class="w"></span>
<a id="__codelineno-65-9" name="__codelineno-65-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">overrideInjectedSettings</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-65-10" name="__codelineno-65-10"></a><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-65-11" name="__codelineno-65-11"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w"></span>
</span><a id="__codelineno-65-12" name="__codelineno-65-12"></a><span class="w">                </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Setting</span><span class="p">.</span><span class="na">COLLECTION_MAX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-65-13" name="__codelineno-65-13"></a><span class="w">            </span><span class="p">.</span><span class="na">create</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-65-14" name="__codelineno-65-14"></a>
<a id="__codelineno-65-15" name="__codelineno-65-15"></a><span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getPhoneNumbers</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-65-16" name="__codelineno-65-16"></a><span class="w">            </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;Injected settings can be overridden&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-65-17" name="__codelineno-65-17"></a><span class="w">            </span><span class="p">.</span><span class="na">hasSizeLessThanOrEqualTo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-65-18" name="__codelineno-65-18"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-65-19" name="__codelineno-65-19"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>11</lnum> Settings passed in to the builder method take precedence over the injected settings.</p>
</div>
<p>Instancio supports <code>@WithSettings</code> placed on static and non-static fields.
However, if the test class contains a <code>@ParameterizedTest</code> method, then the settings field <em>must be static</em>.</p>
<h2 id="arguments-source">Arguments Source<a class="headerlink" href="#arguments-source" title="Permanent link">&para;</a></h2>
<p>Using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioSource.html" target="_blank">@InstancioSource</a> annotation it is possible to have arguments provided directly to a <code>@ParameterzedTest</code> test method.
This works with a single argument and multiple arguments, each class representing one argument.</p>
<div class="admonition warning">
<p class="admonition-title">Using <code>@ParameterizedTest</code> requires the <code>junit-jupiter-params</code> dependency.</p>
<p>See <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-setup" target="_blank">JUnit documentation for details</a>.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Using @InstancioSource with @ParameterizedTest</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-66-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-66-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-66-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-66-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-66-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-66-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-66-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-66-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-66-10">10</a></span>
<span class="normal"><a href="#__codelineno-66-11">11</a></span>
<span class="normal"><a href="#__codelineno-66-12">12</a></span>
<span class="normal"><a href="#__codelineno-66-13">13</a></span>
<span class="normal"><a href="#__codelineno-66-14">14</a></span>
<span class="normal"><a href="#__codelineno-66-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-66-2" name="__codelineno-66-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-66-3" name="__codelineno-66-3"></a>
<a id="__codelineno-66-4" name="__codelineno-66-4"></a><span class="w">    </span><span class="nd">@ParameterizedTest</span><span class="w"></span>
<a id="__codelineno-66-5" name="__codelineno-66-5"></a><span class="w">    </span><span class="nd">@InstancioSource</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-66-6" name="__codelineno-66-6"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">singleArgument</span><span class="p">(</span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-66-7" name="__codelineno-66-7"></a><span class="w">        </span><span class="c1">// snip...</span><span class="w"></span>
<a id="__codelineno-66-8" name="__codelineno-66-8"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-66-9" name="__codelineno-66-9"></a>
<a id="__codelineno-66-10" name="__codelineno-66-10"></a><span class="w">    </span><span class="nd">@ParameterizedTest</span><span class="w"></span>
<a id="__codelineno-66-11" name="__codelineno-66-11"></a><span class="w">    </span><span class="nd">@InstancioSource</span><span class="p">({</span><span class="n">Foo</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Bar</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Baz</span><span class="p">.</span><span class="na">class</span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-66-12" name="__codelineno-66-12"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">multipleArguments</span><span class="p">(</span><span class="n">Foo</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">Baz</span><span class="w"> </span><span class="n">baz</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-66-13" name="__codelineno-66-13"></a><span class="w">        </span><span class="c1">// snip...</span><span class="w"></span>
<a id="__codelineno-66-14" name="__codelineno-66-14"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-66-15" name="__codelineno-66-15"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>It should be noted that using <code>@InstancioSource</code> has a couple of important limitations that makes it unsuitable in many situations.</p>
<p>The biggest limitation is that the generated objects cannot be customised.
The only option is to customise generated values using <a href="#settings-injection">settings injection</a>.
However, it is not possible to customise values on a per-field basis, as you would with the builder API.</p>
<p>The second limitation is that it does not support parameterized types.
For instance, it is not possible to specify that <code>@InstancioSource(List.class)</code> should be of type <code>List&lt;String&gt;</code>.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        
<!-- More minimal footer -->

<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    &copy; Instancio 2022
                </div>
                
                powered by
                <a href="https://www.mkdocs.org" title="MkDocs" target="_blank">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs" target="_blank">
                    Material for MkDocs</a>
            </div>
            
            <div class="md-social">
  
</div>
            
        </div>
    </div>
</footer>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "toc.integrate"], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
    
  </body>
</html>